
---
title: "Marketing Campaign SQL Analysis in R"
author: "Your Name"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Load Libraries and Data

```{r}
# Install required packages if not installed
if (!require("sqldf")) install.packages("sqldf")
if (!require("ggplot2")) install.packages("ggplot2")
if (!require("dplyr")) install.packages("dplyr")

library(sqldf)
library(ggplot2)
library(dplyr)

# Load the CSV file
df <- read.csv("marketing_campaign_dataset revised.csv", stringsAsFactors = FALSE)

# Convert Date column
df$Date <- as.Date(df$Date)
```

## Data Structure

```{r}
str(df)
summary(df)
```

## SQL Analysis

### ROI by Customer Segment

```{r}
sqldf("SELECT Customer_Segment,
              COUNT(*) AS Num_Campaigns,
              AVG(ROI) AS Avg_ROI
       FROM df
       GROUP BY Customer_Segment
       ORDER BY Avg_ROI DESC")
```

### Channel Performance: Conversion Rate and ROI

```{r}
sqldf("SELECT Channel_Used,
              AVG(Conversion_Rate) AS Avg_Conversion,
              AVG(ROI) AS Avg_ROI
       FROM df
       GROUP BY Channel_Used
       ORDER BY Avg_Conversion DESC")
```

### Campaign Type Engagement

```{r}
sqldf("SELECT Campaign_Type,
              AVG(Engagement_Score) AS Avg_Engagement,
              AVG(Clicks) AS Avg_Clicks
       FROM df
       GROUP BY Campaign_Type
       ORDER BY Avg_Engagement DESC")
```

### Top Performing Locations by ROI

```{r}
sqldf("SELECT Location,
              AVG(ROI) AS Avg_ROI,
              COUNT(*) AS Campaigns
       FROM df
       GROUP BY Location
       HAVING Campaigns > 2
       ORDER BY Avg_ROI DESC")
```

## Visualization: ROI by Channel

```{r}
ggplot(df, aes(x = Channel_Used, y = ROI)) +
  geom_boxplot() +
  labs(title = "ROI Distribution by Marketing Channel")
```

## Insights Generated


- Foodies and Outdoor Adventurers respond best to marketing campaigns, yielding the highest average ROI. In contrast, Tech Enthusiasts underperform, indicating a potential mismatch in messaging or targeting.
- Facebook and Website channels yielded the highest ROI, while Instagram drove the strongest conversion rates. Email and Google Ads performed solidly but were not the top channels.
- Search campaigns drive the most engagement. Influencer campaigns underperform.
- Houston and Chicago are the most profitable cities for campaigns, with significantly higher ROI. Meanwhile, Los Angeles and New York underperform, suggesting they may be oversaturated or misaligned with current strategies.
- Google Ads offers more predictable ROI, while YouTube has higher peaks but possibly more variance. Choose based on risk appetite and budget flexibility.
- ROI Distribution by Channel (Boxplot Insight)
Looking at the spread of ROI for each channel (not just averages), here's what stands out:

YouTube shows high maximum ROI values (e.g., 7.18), indicating strong upside.

Google Ads has more consistent ROI across campaigns, with tighter distribution.

Some channels (like Email or Social) may have high variance — meaning they’re riskier bets: some campaigns win big, others flop.

## Author

Built by Brittany McGregor — https://www.linkedin.com/in/brittany-mcgregor-39a90a124/

